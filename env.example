# DeepSeek OCR Service Configuration
# Copy this file to .env and modify the values as needed

# ==========================================
# Model Configuration
# ==========================================
# Path to the model (can be HuggingFace model ID or local path)
OCR_MODEL_PATH=deepseek-ai/DeepSeek-OCR

# ==========================================
# GPU Settings
# ==========================================
# GPU memory utilization (0.0 to 1.0)
OCR_GPU_MEMORY_UTIL=0.8

# Maximum model length (tokens)
OCR_MAX_MODEL_LEN=8192

# Tensor parallel size (number of GPUs to use)
OCR_TENSOR_PARALLEL_SIZE=1

# ==========================================
# Service Configuration
# ==========================================
# Maximum number of tasks in queue
OCR_MAX_QUEUE_SIZE=100

# Batch size for processing
OCR_BATCH_SIZE=16

# Batch timeout in seconds
OCR_BATCH_TIMEOUT=2.0

# Task time-to-live in seconds (1 hour)
OCR_TASK_TTL=3600

# Cleanup interval in seconds (5 minutes)
OCR_CLEANUP_INTERVAL=300

# ==========================================
# Image Download Settings
# ==========================================
# Maximum image size in MB
OCR_MAX_IMAGE_SIZE_MB=20

# Image download timeout in seconds
OCR_IMAGE_DOWNLOAD_TIMEOUT=30

# ==========================================
# Default OCR Settings
# ==========================================
# Default prompt for OCR
OCR_DEFAULT_PROMPT=<image>\n<|grounding|>Convert the document to markdown.

# Temperature for generation (0.0 = deterministic)
OCR_DEFAULT_TEMPERATURE=0.0

# Maximum tokens for generation
OCR_DEFAULT_MAX_TOKENS=8192

# ==========================================
# NGram LogitsProcessor Settings
# ==========================================
# NGram size for preventing repetition
OCR_NGRAM_SIZE=30

# Window size for NGram processor
OCR_WINDOW_SIZE=90

# ==========================================
# Server Settings
# ==========================================
# Host to bind the server
OCR_HOST=0.0.0.0

# Port to bind the server
OCR_PORT=8000

# Number of workers (should be 1 for GPU workloads)
OCR_WORKERS=1

# ==========================================
# Logging
# ==========================================
# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
OCR_LOG_LEVEL=INFO

